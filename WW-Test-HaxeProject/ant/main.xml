<project name="WW-Test-HaxeProject" default="0 Testing" basedir="../">
	<description>
		Ant Build File
	</description>
		
	<!-- Path to Ant Custom Configs -->
	<property file="ant/conf/properties.conf" />
		
	<!-- Path to Ant Macros -->
	<import file="includes/macros.xml" />
			
	<!-- Path to Java Tools -->
	<property name="yui" location="ant/tools/yuicompressor-2.4.8.jar"/>
	<property name="jcrunch" location="ant/tools/jcruncherEx.jar"/>
	<property name="hxmlCompile" location="${project.hxmlCompileTool}"/>
	
	
	<target name="0 Testing">
	    <echo>"[TESTING]   ***********************************************************"</echo>
		
		<createHxml jar="${hxmlCompile}" path="ant/conf/compiler.conf" silent="true" debugger="false" output="${project.outputFolder}" />
		
		
		<echo>---- Test completed ----</echo>
		
	</target>
	
	<target name="1 Debug">
		<echo>"[DEPLOY]   ***********************************************************"</echo>

		<clearing path="${project.outputFolder}" />

		<copyFolders src="${project.inputFolder}" to="${project.outputFolder}" />
		
		<createHxml jar="${hxmlCompile}" path="ant/conf/compiler.conf" silent="false" debugger="true" output="${project.outputFolder}" />
		
		<compileLess in="${project.lessIn}" out="${project.lessOut}/" compiler="${jcrunch}"/>
				
	</target>
	
	<target name="2 Release" >
		<echo>"[RELEASE]   ***********************************************************"</echo>

		<clearing path="${project.outputFolder}" />

		<copyFolders src="${project.inputFolder}" to="${project.outputReleaseFolder}" />
		
		<createHxml jar="${hxmlCompile}" path="ant/conf/compiler.conf" silent="false" debugger="false" output="${project.outputReleaseFolder}" />
		
		<compileLess in="${project.lessIn}" out="${project.lessReleaseOut}/" compiler="${jcrunch}"/>
		
		<minify path="${project.lessReleaseOut}/" compressor="${yui}" type="css" />
		<minify path="${project.outputReleaseFolder}/js" compressor="${yui}" type="js" />
		<!--
		<deleteuncompressedFile file="${project.outputReleaseFolder}/css/${project.name}.css" />
		<deleteuncompressedFile file="${project.outputReleaseFolder}/js/script.js" />
		-->
	</target>
	
</project>
