<?xml version="1.0"?>
<project name="Macros">
		
	<!-- Clearing the Deploy Folder -->
	<macrodef name="clearing">
		<attribute name="path"/>
		<sequential>
			
			<delete includeemptydirs="true">  
		        <fileset dir="@{path}" includes="**/*"/>  
		    </delete>  
			<echo>Cleaned</echo>
			
		</sequential>
	</macrodef>
	
	<!-- Build Folders -->
	<macrodef name="copyFolders">
		<attribute name="src"/>
		<attribute name="to"/>		
		<sequential>
			<copy todir="@{to}">
			  <fileset dir="@{src}">
			  </fileset>
			</copy>
		</sequential>
	</macrodef>
	
	<!-- Compile Less -->
	<macrodef name="compileLess" backtrace="true">
		<attribute name="in"/>
		<attribute name="out"/>
		<attribute name="compiler"/>

		<sequential>
			<exec executable="java" failonerror="true">
				<arg line="-jar @{compiler}"/>
				<arg line="--less @{in}"/>
				<arg line="@{out}/WW-Test-HaxeProject.css"/>
			</exec>
			<echo>Less Compiled</echo>
		</sequential>
	</macrodef>
	
	<!-- Minify -->
	<macrodef name="minify">
		<attribute name="path"/>
		<attribute name="compressor"/>
		<attribute name="type"/>
		
		<sequential>
			<exec executable="java" failonerror="true">
				<arg line="-jar @{compressor}"/>
				<arg line="@{path}/WW-Test-HaxeProject.@{type}"/>
				<arg line="-o @{path}/WW-Test-HaxeProject.@{type}/"/>
			</exec>
			
			<echo>Minifyer of WW-Test-HaxeProject.@{type} Finished</echo>
			
		</sequential>
	</macrodef>
	
	<!--  -->
	<macrodef name="createHxml">
		<attribute name="jar"/>
		<attribute name="path"/>
		<attribute name="silent"/>
		<attribute name="debugger"/>
		<attribute name="output"/>
		<sequential>
			<exec executable="java" failonerror="true">
				<arg line="-jar @{jar}"/>
				<arg line="@{path}"/>
				<arg line="@{silent}"/>
				<arg line="@{debugger}"/>
				<arg line="@{output}/js/WW-Test-HaxeProject.js"/>
			</exec>

		</sequential>
	</macrodef>	
	
	<macrodef name="deleteuncompressedFile">
		
		<sequential>
			<echo>Deleting uncompressed file...</echo>
			<delete file="WW-Test-HaxeProject" />
			<echo>... WW-Test-HaxeProject Deleted</echo>
		</sequential>
	</macrodef>
	
</project>	
